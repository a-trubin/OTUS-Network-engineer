# Архитектура сети
## Цели  
1. Разработаеть и задокументировать адресное пространство для лабораторного стенда  
2. Настроить ip адреса на каждом активном порту  
3. Настроить каждый VPC в каждом офисе в своем VLAN  
4. Настроить VLAN/Loopbackup interface управления для сетевых устройств  
5. Настроить сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано

## Топология

![Network scheme drawio](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/8f918a38-5029-4eb7-94fa-84791af0f12e)

## Таблица адресации сетевых устройств

```
+---+--------+-----------+-----------------+
|   | Device | Interface | IP address|VLAN |
+---+--------+-----------+-----------------+
| К |   R22  |    e0/0   |  20.10.10.1/30  |
| И |        |           |                 |
| Т |        +-----------+-----------------+
| О |        |    e0/1   |  20.10.30.1/30  |
| Р |        +-----------+-----------------+
| Н |        |    e0/2   |  20.10.50.1/30  |
+---+--------+-----------+-----------------+
| Л |   R21  |    e0/0   |  20.10.20.1/30  |
| А |        +-----------+-----------------+
| М |        |    e0/1   |  20.10.30.2/30  |
| А |        +-----------+-----------------+
| С |        |    e0/2   |  20.10.40.1/30  |
+---+--------+-----------+-----------------+
|   | R23    |    e0/0   |  20.10.50.2/30  |
|   |        +-----------+-----------------+
|   |        |    e0/1   |  10.100.1.23/24 |
|   |        +-----------+-----------------+
|   |        |    e0/2   |  10.100.2.23/24 |
|   +--------+-----------+-----------------+
|   | R24    |    e0/0   |  20.10.40.2/30  |
|   |        +-----------+-----------------+
|   |        |    e0/1   |  10.100.3.24/24 |
|   |        +-----------+-----------------+
|   |        |    e0/2   |  10.100.2.24/24 |
|   |        +-----------+-----------------+
| Т |        |    e0/3   |  20.20.10.1/30  |
| Р +--------+-----------+-----------------+
| И |   R25  |    e0/0   |  10.100.1.25/24 |
| А |        +-----------+-----------------+
| Д |        |    e0/1   |  20.30.30.1/30  |
| А |        +-----------+-----------------+
|   |        |    e0/2   |  10.100.4.25/24 |
|   |        +-----------+-----------------+
|   |        |    e0/3   |  20.30.20.1/30  |
|   +--------+-----------+-----------------+
|   | R26    |    e0/0   |  10.100.3.26/24 |
|   |        +-----------+-----------------+
|   |        |    e0/1   |  20.30.10.1/30  |
|   |        +-----------+-----------------+
|   |        |    e0/2   |  10.100.4.26/24 |
|   |        +-----------+-----------------+
|   |        |    e0/3   |  20.20.20.1/30  |
+---+--------+-----------+-----------------+
| Л | R27    |    e0/0   |  20.30.30.2/30  |
| А |        |           |                 |
| Б |        |           |                 |
| Ы |        |           |                 |
| Т |        |           |                 |
| Н |        |           |                 |
| А |        |           |                 |
| Н |        |           |                 |
| Г |        |           |                 |
| И |        |           |                 |
+---+--------+-----------+-----------------+
|   | R28    |    e0/0   |        -        |
|   |        +-----------+-----------------+
|   |        |  e0/0.31  | 172.16.31.28/24 |
|   |        +-----------+-----------------+
|   |        |  e0/0.32  | 172.16.32.28/24 |
|   |        +-----------+-----------------+
|   |        |  e0/0.33  | 172.16.33.28/24 |
|   |        +-----------+-----------------+
|   |        |    e0/1   |  20.30.10.2/30  |
| Ч |        +-----------+-----------------+
| О |        |    e0/3   |  20.30.20.2/30  |
| К +--------+-----------+-----------------+
| У | SW29   |    e0/0   |      TRUNK      |
| Р |        |           |    VLAN 31-33   |
| Д |        +-----------+-----------------+
| А |        |    e0/1   |      ACCESS     |
| Х |        |           |     VLAN 31     |
|   |        +-----------+-----------------+
|   |        |    e0/2   |      ACCESS     |
|   |        |           |     VLAN 32     |
|   |        +-----------+-----------------+
|   |        |    e0/3   |      ACCESS     |
|   |        |           |     VLAN 33     |
|   |        +-----------+-----------------+
|   |        |   Vlan33  | 172.16.33.29/24 |
+---+--------+-----------+-----------------+
|   | R18    |    e0/0   |  20.20.10.2/30  |
|   |        +-----------+-----------------+
|   |        |    e0/1   |  20.20.20.2/30  |
|   |        +-----------+-----------------+
|   |        |    e0/2   |  10.101.0.16/24 |
|   |        +-----------+-----------------+
|   |        |    e0/3   |  10.101.1.18/24 |
|   +--------+-----------+-----------------+
|   | R17    |    e0/0   |  10.101.0.17/24 |
|   |        +-----------+-----------------+
|   |        |  e0/1.21  | 10.101.21.17/24 |
|   |        |           |       HSRP      |
|   |        |           |  10.101.21.100  |
|   |        +-----------+-----------------+
|   |        |  e0/1.23  | 10.101.23.17/24 |
|   |        |           |       HSRP      |
|   |        |           |  10.101.23.100  |
|   |        +-----------+-----------------+
|   |        |  e0/2.22  | 10.101.22.17/24 |
|   |        |           |       HSRP      |
|   |        |           |  10.101.22.100  |
| С +--------+-----------+-----------------+
| А | R16    |    e0/1   |  10.101.3.16/24 |
| Н |        +-----------+-----------------+
| К |        |  e0/2.22  | 10.101.22.16/24 |
| Т |        |           |       HSRP      |
|   |        |           |  10.101.22.100  |
| П |        +-----------+-----------------+
| Е |        |  e0/2.23  | 10.101.23.16/24 |
| Т |        |           |       HSRP      |
| Е |        |           |  10.101.23.100  |
| Р |        +-----------+-----------------+
| Б |        |  e0/3.21  | 10.101.21.16/24 |
| У |        |           |       HSRP      |
| Р |        |           |  10.101.21.100  |
| Г +--------+-----------+-----------------+
|   | SW9    |    e0/0   |      TRUNK      |
|   |        |           |    VLAN 21,23   |
|   |        +-----------+-----------------+
|   |        |    e0/1   |      TRUNK      |
|   |        |           |     VLAN 21     |
|   |        +-----------+-----------------+
|   |        |    e0/2   |      TRUNK      |
|   |        |           |    VLAN 21-23   |
|   |        +-----------+-----------------+
|   |        |    e1/0   |      ACCESS     |
|   |        |           |     VLAN 21     |
|   |        +-----------+-----------------+
|   |        |    e1/1   |      ACCESS     |
|   |        |           |     VLAN 23     |
|   |        +-----------+-----------------+
|   |        |   Vlan23  |  10.101.23.9/24 |
|   +--------+-----------+-----------------+
|   |  SW10  |    e0/0   |      TRUNK      |
|   |        |           |    VLAN 22,23   |
|   |        +-----------+-----------------+
|   |        |    e0/1   |      TRUNK      |
|   |        |           |     VLAN 22     |
|   |        +-----------+-----------------+
|   |        |    e0/2   |      TRUNK      |
|   |        |           |    VLAN 21-23   |
|   |        +-----------+-----------------+
|   |        |    e1/0   |      ACCESS     |
|   |        |           |     VLAN 22     |
|   |        +-----------+-----------------+
|   |        |    e1/1   |      ACCESS     |
|   |        |           |     VLAN 23     |
|   |        +-----------+-----------------+
|   |        |  Vlan 23  | 10.101.23.10/24 |
|   +--------+-----------+-----------------+
|   | R32    | e0/0      | 10.101.3.32/24  |
+---+--------+-----------+-----------------+
|   |   R14  |    e0/0   | 192.168.4.14/24 |
|   |        +-----------+-----------------+
|   |        |    e0/1   | 192.168.3.14/24 |
|   |        +-----------+-----------------+
|   |        |    e0/2   |  20.10.10.2/30  |
|   |        +-----------+-----------------+
|   |        |    e0/3   | 192.168.0.14/24 |
|   +--------+-----------+-----------------+
|   |   R15  |    e0/0   | 192.168.5.15/24 |
|   |        +-----------+-----------------+
|   |        |    e0/1   | 192.168.2.15/24 |
|   |        +-----------+-----------------+
|   |        |    e0/2   |  20.10.20.2/30  |
|   |        +-----------+-----------------+
|   |        |    e0/3   | 192.168.1.15/24 |
|   +--------+-----------+-----------------+
|   |   R19  |    e0/0   | 192.168.0.19/24 |
|   +--------+-----------+-----------------+
|   |   R20  |    e0/0   | 192.168.1.20/24 |
|   +--------+-----------+-----------------+
|   |   R12  |    e0/0   | 192.168.7.12/24 |
|   |        +-----------+-----------------+
|   |        |    e0/1   | 192.168.9.12/24 |
|   |        +-----------+-----------------+
|   |        |    e0/2   | 192.168.4.12/24 |
|   |        +-----------+-----------------+
|   |        |    e0/3   | 192.168.2.12/24 |
|   +--------+-----------+-----------------+
|   |   R13  |    e0/0   | 192.168.8.13/24 |
|   |        +-----------+-----------------+
|   |        |    e0/1   | 192.168.6.13/24 |
|   |        +-----------+-----------------+
|   |        |    e0/2   | 192.168.5.13/24 |
|   |        +-----------+-----------------+
|   |        |    e0/3   | 192.168.3.13/24 |
|   +--------+-----------+-----------------+
|   |   SW4  |    e0/0   |      TRUNK      |
|   |        |           |    VLAN 11,13   |
|   |        +-----------+-----------------+
|   |        |    e0/1   |      TRUNK      |
|   |        |           |    VLAN 12,13   |
|   |        +-----------+-----------------+
|   |        |    e0/2   | 192.168.10.4/24 |
|   |        +-----------+-----------------+
|   |        |    e1/0   |  192.168.7.4/24 |
|   |        +-----------+-----------------+
|   |        |    e1/1   |  192.168.6.4/24 |
|   |        +-----------+-----------------+
|   |        |   Vlan11  | 192.168.11.4/24 |
|   |        |           |       HSRP      |
|   |        |           |  192.168.11.100 |
|   |        +-----------+-----------------+
|   |        |   Vlan12  | 192.168.12.4/24 |
|   |        |           |       HSRP      |
|   |        |           |  192.168.12.100 |
|   |        +-----------+-----------------+
|   |        |   Vlan13  | 192.168.13.4/24 |
|   |        |           |       HSRP      |
|   |        |           |  192.168.13.100 |
|   +--------+-----------+-----------------+
|   |   SW5  |    e0/0   |      TRUNK      |
|   |        |           |    VLAN 12,13   |
|   |        +-----------+-----------------+
|   |        |    e0/1   |      TRUNK      |
| М |        |           |    VLAN 11,13   |
| О |        +-----------+-----------------+
| С |        |    e0/2   | 192.168.10.5/24 |
| К |        +-----------+-----------------+
| В |        |    e1/0   |  192.168.8.5/24 |
| А |        +-----------+-----------------+
|   |        |    e1/1   |  192.168.9.5/24 |
|   |        +-----------+-----------------+
|   |        |   Vlan11  | 192.168.11.5/24 |
|   |        |           |       HSRP      |
|   |        |           |  192.168.11.100 |
|   |        +-----------+-----------------+
|   |        |   Vlan12  | 192.168.12.5/24 |
|   |        |           |       HSRP      |
|   |        |           |  192.168.12.100 |
|   |        +-----------+-----------------+
|   |        |   Vlan13  | 192.168.13.5/24 |
|   |        |           |       HSRP      |
|   |        |           |  192.168.13.100 |
|   +--------+-----------+-----------------+
|   |   SW2  |    e0/0   |      ACCESS     |
|   |        |           |     VLAN 12     |
|   |        +-----------+-----------------+
|   |        |    e0/1   |      TRUNK      |
|   |        |           |    VLAN 12,13   |
|   |        +-----------+-----------------+
|   |        |    e0/2   |      TRUNK      |
|   |        |           |    VLAN 12,13   |
|   |        +-----------+-----------------+
|   |        |    e0/3   |      ACCESS     |
|   |        |           |     VLAN 13     |
|   |        +-----------+-----------------+
|   |        |   Vlan13  | 192.168.13.2/24 |
|   +--------+-----------+-----------------+
|   |   SW3  |    e0/0   |      ACCESS     |
|   |        |           |     VLAN 11     |
|   |        +-----------+-----------------+
|   |        |    e0/1   |      TRUNK      |
|   |        |           |    VLAN 11,13   |
|   |        +-----------+-----------------+
|   |        |    e0/2   |      TRUNK      |
|   |        |           |    VLAN 11,13   |
|   |        +-----------+-----------------+
|   |        |    e0/3   |      ACCESS     |
|   |        |           |     VLAN 13     |
|   |        +-----------+-----------------+
|   |        |   Vlan13  |   192.168.13.3  |
+---+--------+-----------+-----------------+
```
# Краткое описание

## Регион Москва  

В данной сети VLAN-ы не поднимаются выше уровня L3 Коммутаторов. Между L3 коммутаторами настроен протокол HSRP.

![SW4 HSRP](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/da63caac-70df-4534-9be3-c29148393bf7)


![SW5 HSRP](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/812ebad6-33f8-4b40-9ccb-4167e933de87)

Также настроен протокол STP.

![SW4 STP](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/a5b1595e-2ff9-4611-82b4-cf49574061d3)

![SW5 STP](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/1485bcec-9629-489a-ba2b-389ce884d75f)

Проверка доступности с конечных хостов.

С VLAN 11:

![VPC1 ping](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/d1cd53f7-2161-45c4-aa1a-13ad6741ff8a)

C VLAN 12:

![VPC7 ping](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/9a345683-0cca-4563-8c50-635cc1da24a3)


## Регион Санкт-Петербург

В данной сети реализована схема Router-on-a-Stick и настроен протокол HSRP между R16 и R17.

![R16 HSRP](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/539f6a10-634e-4f68-9784-bef8b0afe113)

![R17 HSRP](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/8ae067e5-634f-4a1e-85b6-5800a5e5d01d)

Проверка доступности с конечных хостов.

C VLAN 21:

![VPC8 ping](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/2a00aac4-907d-473a-aa2c-887ade5e3d88)

C VLAN 22:

![VPC ping](https://github.com/a-trubin/OTUS-Network-engineer/assets/130133180/fde32f00-cf42-43fc-9e05-72c0964edb4d)

## Регион Чокурдах

В данной сети реализована стандартная схема Router-on-a-Stick на одном роутере. В проверке не нуждается.
